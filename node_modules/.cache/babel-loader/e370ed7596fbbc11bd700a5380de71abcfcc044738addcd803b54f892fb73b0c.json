{"ast":null,"code":"var _jsxFileName = \"C:\\\\todolist\\\\src\\\\components\\\\EditItem.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { IoIosAdd } from \"react-icons/io\";\nimport { IoCloseCircleSharp } from \"react-icons/io5\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditItem = props => {\n  _s();\n  const [newItem, setNewItem] = useState({\n    id: null,\n    text: '',\n    completed: false\n  });\n  const editItem = async () => {\n    try {\n      const response = await fetch('api/post', {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(newItem)\n      });\n      if (!response.ok) {\n        throw new Error('Ошибка при обновлении');\n      }\n      setNewItem({\n        id: null,\n        text: '',\n        completed: false\n      });\n      const updatedList = props.list.map(el => el.id === props.item.id ? {\n        ...el,\n        text: newItem.text\n      } : el);\n      props.setList(updatedList);\n      props.setEdit(false);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"edit\",\n      value: newItem.text,\n      onChange: e => {\n        setNewItem({\n          id: props.item.id,\n          text: e.target.value,\n          completed: props.item.completed\n        });\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(IoIosAdd, {\n      onClick: () => {\n        editItem();\n        props.setEdit(false);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(IoCloseCircleSharp, {\n      onClick: () => {\n        props.setEdit(false);\n        setNewItem({\n          id: null,\n          text: '',\n          completed: false\n        });\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n};\n_s(EditItem, \"9tSey8SPvpab/MwZDuNUj6ZIDGQ=\");\n_c = EditItem;\nexport default EditItem;\nvar _c;\n$RefreshReg$(_c, \"EditItem\");","map":{"version":3,"names":["React","useState","IoIosAdd","IoCloseCircleSharp","jsxDEV","_jsxDEV","EditItem","props","_s","newItem","setNewItem","id","text","completed","editItem","response","fetch","method","headers","body","JSON","stringify","ok","Error","updatedList","list","map","el","item","setList","setEdit","err","console","log","children","className","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/todolist/src/components/EditItem.js"],"sourcesContent":["import React, {useState} from 'react';\r\nimport {IoIosAdd} from \"react-icons/io\";\r\nimport {IoCloseCircleSharp} from \"react-icons/io5\";\r\n\r\nconst EditItem = (props) => {\r\n\r\n    const [newItem, setNewItem] = useState({id: null, text: '',completed: false});\r\n\r\n    const editItem = async () => {\r\n        try {\r\n            const response = await fetch('api/post', {\r\n                method: 'PUT',\r\n                headers: {'Content-Type': 'application/json'},\r\n                body: JSON.stringify(newItem),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Ошибка при обновлении');\r\n            }\r\n\r\n            setNewItem({id: null, text: '', completed: false});\r\n            const updatedList = props.list.map((el) =>\r\n                el.id === props.item.id\r\n                    ? { ...el, text: newItem.text}\r\n                    : el\r\n            );\r\n            props.setList(updatedList);\r\n            props.setEdit(false);\r\n        } catch(err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <span>\r\n                <input className='edit' value={newItem.text} onChange={(e) => {setNewItem({id: props.item.id, text: e.target.value, completed: props.item.completed})}} />\r\n                <IoIosAdd onClick={() => {\r\n                    editItem()\r\n                    props.setEdit(false);\r\n                }}/>\r\n                <IoCloseCircleSharp onClick={() => {\r\n                    props.setEdit(false)\r\n                    setNewItem({id:null, text: '', completed: false,});\r\n                }}/>\r\n        </span>\r\n    );\r\n};\r\n\r\nexport default EditItem;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}